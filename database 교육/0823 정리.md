# 0823 교육내용
## INLINE VIEW
 SELECT에서 가져오는 컬럼명을 바꾸는 방법은 TO_CHAR(HIRE_DATE, 'YYYY') AS HIRE_YEAR와 같이 뒤에 이름을 입력해준다.(AS는 생략 가능)</BR>
 하지만 위에서 명명한 이름으로 WHERE문에서 이용하려고 하면 사용이 되질 않는다. 이것을 해결하기 위해 INLINE VIEW를 사용한다.

 ```
SELECT J.JOB_TITLE
     , AVG(E.SALARY) AS AVG_SALARY
  FROM JOBS J
 INNER JOIN EMPLOYEES E
    ON J.JOB_ID  = E.JOB_ID 
 GROUP BY J.JOB_TITLE
 ORDER BY AVG(E.SALARY)
```
이런식으로 사용하면 되기는 하지만 가뜩이나 GROUP BY하나만 사용해도 성능에서 문제가 생기는데, 이것을 계속 이용하며 ORDER BY를 사용하겠다면 
컴퓨터가 버티지 못하고 죽을 것이다.</BR>
```
SELECT JOB_TITLE
     , AVG_SALARY
  FROM (SELECT J.JOB_TITLE
		     , AVG(E.SALARY) AS AVG_SALARY
		  FROM JOBS J
		 INNER JOIN EMPLOYEES E
		    ON J.JOB_ID  = E.JOB_ID 
		 GROUP BY J.JOB_TITLE) JOB_AVG_SALARY
 ORDER BY AVG_SALARY
```
위와 같이 INLINE VIEW를 이용하여 테이블의 형태로 만들어서 값만 주면 편하게 이용할 수 있다.</BR>

### ROWNUM (오라클만 사용 가능)
```
SELECT ROWNUM
     , E.*
  FROM EMPLOYEES E
 ORDER BY SALARY DESC
;
```
위 SELECT의 ROWNUM은 오라클에만 있는 컬럼이며, 인덱스를 부여한다. 하지만 출력을 하면 정렬로 인해서 인덱스가 뒤죽박죽이 되는데, ROW에 부여되어 있는 값이라 그렇다.</BR>
그래서 정렬한 뒤 테이블로 만들어서 가져오면 새롭게 인덱싱이 되기 때문에 INLINE을 사용하는 것이다.</BR>


