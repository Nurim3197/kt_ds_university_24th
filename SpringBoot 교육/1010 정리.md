# 1010 교육내용
## 로그아웃
 Scope는 4가지가 있는데 JSP만을 이용하여 개발할 것이 아니라면 sessionScope만 사용하면 된다.</br>
 sessionScope는 session.setAttribute와 같아서 JSP에서 세션에 어느 속성이 있는지 검사할 수 있다.</br>
 HttpSession을 받아와서 .invalidate()를 하면 해당세션에 접속한 사용자의 세션만 삭제한다.</br>

 현재 사용자의 세션만 삭제할 수 있는 이유는 쿠키를 사용하기 때문이다. 쿠키는 클라이언트(사용자)가 처음 접근할 때, 클라이언트에 세션id가 저장된다.</br>
 Http는 기억을 못하기 때문에, 클라이언트가 서버에 접속할 때마다, 자신의 id를 보내주어 자신이 누구인지 알려준다. 이를 이용하여 사용자를 구분할 수 있게된다.</br>
  
 동일한 브라우저에서는 세션의 정보를 공유한다. > 창이 다르거나 탭이 달라도 세션을 항상 공유한다. </br>
 
 이제 구현을 할 차례인데 header와 footer마냥 어느 페이지에서든 (회원가입, 로그인)이나 로그아웃이 나오길 바란다.</br>
 이를 위해서 원하는 부분에 ``` <jsp:include page="../member/membermenu.jsp"></jsp:include> ``` jsp:include를 이용하여 공통된 부분을 가져오면 된다.</br>

## 회원이 작성한 글만 조회하기
 테이블을 조인하여 조회하는 쿼리의 결과는 resultType으로 받아올 수 없기 때문에, resultMap을 이용하여 가져와야한다.</br>
 어느 것을 중심으로 보느냐에 따라서 1대1, 1대다가 나눠진다. 만약 회원을 기준으로 한다면 회원이 여러개의 게시글을 남길 수 있고, 게시글을 기준으로 보면 게시글은 하나의 회원(작성자)를 가진다로 볼 수 있다.</br>
 
 association은 1대1, collection은 1대다이다. (당장은 collection을 사용할 일이 없다.)</br>

## interceptor를 이용한 로그인 회원에게만 서비스제공
 우리가 여태 했던 로그인이 안되어있는지 확인 후, 로그인하도록 하는 방법은 매우 비효율적이다.(페이지가 몇개나 될지 모르는 웹에서 일일히 적는다? 바로 퇴사각)</br>
 
 우리는 로그인한 회원에게만 서비스를 제공하니 세션 체크를 한 뒤, 로그인 페이지로 전달되도록 해야하고, 로그인 페이지에서 로그인을 한다면 원래 목적인 페이지로 전송되어야 한다.</br>
 
 interceptor는 컨트롤러가 실행되기 전과 후, JSP이 응답을 생성한 뒤에 가로챈다.</br>
 위 3가지 기능에 맞는 interceptor를 작성해야한다. 각각의 기능은 preHandle, postHandle, afterCompletion이 있다.(인터페이스의 default가 있어서 전체 다 안만들어도 됨)</br>
 만약 web config에서 excludePathPatterns를 이용하여 interceptor 제외 항목리스트를 부여하지 않는다면 모든 url에 접근할 수 없다. (심지어 로그인하고도 못 빠져나온다.)</br> 

 파라미터로 사용되는 handler가 controller라고 생각하면된다. 사용할, 사용되었던, 전달할 응답 등의 데이터를 가지고 있다.</br>
 
 
 
 
 









 
 
 
