# 1001 교육내용
## 파일 업로드/다운로드
 HTTP로 전송하고 받을 수 있는 파일의 크기는 4GB까지이다.</br>

 applition.yml에 파일을 업로드하고 다운로드할 수 있는 리미트를 지정할 수 있다. 이것에는 10MB처럼 지정할 수 있지만, 바이트 단위로 해야 세밀하게 할 수 있다.</br>
 applition.yml에서 app:~~:??를 이용하여 디렉터리 난독화 등을 설정할 수 있고, 이것을 사용하기 위해서는 Annotion을 이용하여 이 값들을 가져올수 있다. 예시 >> @Value("${app.multipart.base-dir}")</br>

 
 
### UPLOAD
 클라이언트가 서버에게 파일을 올려주므로 업로드이다.</br>
 
 파일을 업로드 다운로드 받아서 저장할때, 저장공간이 모자라 IOException이 발생하거나, 접근할 수 없는 경로에 접근할 때 시스템이 막기때문에 저장할 수 없다.</br>
 예외처리로 우리가 할 수 있는 것이 없다. 사용자에게 "예기치 못한 오류로 실패했다"라고만 알리는 것이 낫다.(보안상의 이유로)</br>
 같은 이름으로 upload가 되면 덮어쓰기가 되므로 이것이 큰 문제가되니 이것을 해결해야한다.</br>
 PK를 더하여 고유의 아이디로 만들어도 되지만, 보안상 좋은 방법은 아니다. 고유한 값을 가지게 하기 위해서 UUID를 사용하여 난독화하면 된다.</br>
 난독화한 파일을 사용자에게 다시 보내줄 때, 기존의 이름으로 보여줘야하니까 테이블에 이것을 저장해야한다.</br>
 보안적인 이유로 이것을 따로 DB에 저장하거나 몽고DB와 같은 OSQL에 저장한다.</br>
 
 
### DOWNLOAD
 업로드와 반대로 서버가 클라이언트에게 파일을 내려주므로 다운로드이다.</br>
 
## etc
 Annotion을 가면 @Component라는 annotion을 볼 수 있다. 이것이 Spring Bean으로 생성해주는 것이다.</br>'
 
 * mybatis에는 다이나믹 쿼리라고 조건에 맞는 경우에 추가하도록 만드는 쿼리가 있다. (EX.INSERT에서 if문에 맞춰 항목을 추가)</br>
```
<if test='fileName != null and fileName != ""'>
	     , FILENAME = #{fileName}
	     , ORIGIN_FILE_NAME = #{originFileName}
	     </if>
```
 if test내에서는 ''로 사용한다. ""는 문제가 생길 가능성이 높다.</br>

 

 
